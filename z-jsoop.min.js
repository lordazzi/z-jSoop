/**
 * Z jSoop 1.0.1
 */
var Z=function(){};Z.defineApp=function(e){if(void 0===e.name)throw"Defina um namespace para seu projeto/alias no atributo 'name'";if(void 0===e.path)throw"Defina a pasta da aplicação em 'path'";if(e.path.match(/.+[^\/\\]$/)&&(e.path+="/"),Z.exists(e.name))throw"Uma variavel com o nome {0} já existe no escopo global.".format(e.name);if(window[e.name]={path:e.path,name:e.name,isZ:!0},e.main){void 0===e.onLaunch&&(e.onLaunch=function(){});var n=Z.declare(e.main);n.onLoad(function(){Z.create(e.main)}),n.onLoad(e.onLaunch),Z.Require([e.main])}},Z.exists=function(e){e=String(e),e=e.split(".");for(var n=window,t=0;t<e.length;t++){if(!n[e[t]])return!1;n=n[e[t]]}return n},Z.declare=function(e){var n=Z.exists(e);if(n){if(n.isZ)return n;throw"Problema para declarar {0}, a variavel já existe.".format(e)}var t=e.split("."),o=window,a={};Z.each(t,function(e){o[e]||(o[e]={}),a=o,o=o[e]});var r=t.pop(),i=function(e,n){n||(this.initConfig(e),this.constructor())};return i.prototype.constructor=function(){throw"{0} ainda não está carregado".format(e)},i.prototype.initConfig=function(){},i.prototype.origin=i,i.identification=i.prototype.identification=e,i.empty=!0,i.isZ=i.prototype.isZ=!0,i.onLoad=function(e){i.todo.push(e)},i.todo=[],a[r]=i},function(){var e=function(e,n){var o,a=["extend","mixins","singleton","statics","requires","config"],r=function(){var t=Z.exists(e);if(t&&!t.empty)throw"Uma classe com o nome {0} já foi definida".format(e);if(i(n),o=Z.declare(e),!o.empty)throw"Tentativa de declarar duas vezes a classe {0}".format(e);return o.empty=!1,m(function(){c(),s(),f()}),o},i=function(){if(void 0===n&&(n={}),!(n instanceof Object))throw"As definições da classe devem ser entregues em um objeto json";if(n.hasOwnProperty("extend")&&"string"!=typeof n.extend)throw"O parâmetro de configuração 'extend' deve conter uma string.";if(n.hasOwnProperty("singleton")&&"boolean"!=typeof n.singleton)throw"O parâmetro de configuração 'singleton' deve conter uma valor booleano.";if(n.hasOwnProperty("requires")){if(!n.requires instanceof Array)throw"O parâmetro de configuração 'requires' recebe um array de strings.";Z.each(n.requires,function(e){if("string"!=typeof e)throw"O parâmetro de configuração 'requires' recebe um array de strings."})}var e="O parâmetro de configuração '{0}' recebe um objeto json";if(n.hasOwnProperty("statics")&&!n.statics instanceof Object)throw e.format("statics");if(n.hasOwnProperty("config")&&!n.config instanceof Object)throw e.format("config");if(n.hasOwnProperty("mixins")){if(!n.mixins instanceof Object)throw e.format("mixins");Z.each(n.mixins,function(n,t){if("string"!=typeof n)throw e.format("mixins");if("string"!=typeof t)throw e.format("mixins")})}},c=function(){o.prototype.mixin={},d("constructor",function(){}),d("callParent",u),d("initConfig",p),d("getParent",function(){return{}}),o.getDefinitions=function(){return n}},s=function(){n.statics&&l(),n.config&&v(),n.extend&&g(),Z.each(n,function(e,n){-1===a.indexOf(n)&&d(n,e)}),n.mixins&&Z.each(n.mixins,function(e,n){y(n,e)})},f=function(){o.onLoad=function(e){Z.call(e,[o])},Z.each(o.todo,function(e){Z.call(e,[o])})},u=function(e){var n=this,t=u.caller,o=e||[];if(!(o instanceof Array||o instanceof arguments.constructor))throw"Argumento inválido para chamada de 'callParent', envie Array ou Arguments";var a=n.getParent(),r=a[t.identification];if("function"==typeof r)return r.apply(n,o);throw"O método '{0}' não está sobrescrevendo nenhum método da classe pai para que callParent seja chamado.".format(r)},p=function(e){var t=this,o=n.config;e=Z.apply(o,e),e&&e.constructor===Object&&Z.each(e,function(e,n){var o=h("set",n);"function"==typeof t[o]?t[o](e):t[n]=e})},m=function(e){var t=[];t=t.concat(n.requires||[]),delete n.dependencias,n.extend&&t.push(n.extend),n.mixins&&Z.each(n.mixins,function(e){t.push(e)}),Z.Require(t,e)},l=function(){Z.each(n.statics,function(e,n){o[n]=e})},d=function(e,n){if(t instanceof Object&&t.constructor!==Function)throw"{0}{1}{2}".format("Você não pode criar um propriedade que tenha um objeto por valor padrão,","isso fará com que todas as classes compartilhem da referência do mesmo.","Adicione o objeto manualmente sobrescrevendo o metodo constructor.");n.identification=e,o.prototype[e]=n},h=function(e,n){var t=n[0].toUpperCase();return n=n.replace(/^./,t),"{0}{1}".format(e,n)},v=function(){var e=n.config;e.constructor===Object&&Z.each(e,function(e,n){var t=h("get",n);_set=h("set",n),_apply=h("apply",n),_update=h("update",n);var o="_{0}".format(n);d(t,function(){return this[o]}),d(_apply,function(e){return e}),d(_update,function(){}),d(_set,function(e){var n=this[o];e=this[_apply](e,n),this[o]=e,e!==n&&this[_update](e,n)})})},g=function(){var e=n.extend,t=Z.exists(e);if(!t||!t.isZ)throw"Impossível estender da classe {0}, a classe não foi declarada ou não é uma classe reconhecida".format(t);if(t.singleton)throw"Impossível estender da classe {0}, a classe é singleton.".format(nomeMix);var a=new t({},!0);o.prototype=new t({},!0),d("getParent",function(){return a}),d("constructor",function(){this.callParent(arguments)}),o.prototype.identification=o.identification,o.prototype.origin=o},y=function(e,n){var t=Z.exists(n);if(!t||!t.isZ)throw"Impossível fazer mixin com a classe {0}, a classe não foi declarada ou não é uma classe reconhecida".format(n);if(t.singleton)throw"Impossível fazer mixin com a classe {0}, a classe é singleton.".format(n);t.apply(o,[{},!0]),mixinPuro=new t({},!0),o.prototype.mixin[e]=mixinPuro};return r()};Z.define=function(n,t){return new e(n,t)}}(),Z.create=function(e,n){var t,o=Z.exists(e);return o&&o.isZ&&!o.empty?t=new o(n):Z.Require([e],function(){t=new o(n),console.warn("[{0}] carregada dinamicamente, operação de IO sincrona executada.".format(e))},!0),t},Z.Loader=function(name,sync){if("string"!=typeof name)throw"O nome da classe deve ser uma string";void 0===sync&&(sync=!1);var classe=Z.exists(name);if(!classe||!classe.isZ||classe.empty){var arr=name.split("."),className=arr.pop(),namespace;arr.length&&(namespace=arr.shift());var path=arr.join("/");path&&(path="{0}/".format(path)),path="{0}{1}.js".format(path,className);var namespacePath="";namespace&&(namespacePath=window[namespace].path||""),path="{0}{1}".format(namespacePath,path),Z.http({url:path,sync:sync,success:function(xhr){var content=xhr.responseText;eval(content)},failure:function(){throw"Impossível carregar sistema, não foi possível carregar a classe {0}".format(name)}})}},Z.Require=function(e,n,t){if(!e.length)return void Z.call(n);void 0===t&&(t=!1);var o=[];Z.each(e,function(e){-1==o.indexOf(e)&&o.push(e)});var a=o.length,r=0,i=function(){r++,a==r&&Z.call(n)};Z.each(o,function(e){var n=Z.declare(e);n.onLoad(i),Z.Loader(e,t)})},Z.each=function(e,n){if("function"==typeof e.splice&&"number"==typeof e.length)for(var t=0;t<e.length;t++){var o=n(e[t],t);if(void 0!==o)return o}else for(var a in e)if(e.hasOwnProperty(a)){var o=n(e[a],a);if(void 0!==o)return o}},Z.clone=function(e){if(null===e||void 0===e)return e;if(e.constructor===Date)return new Date(e.getTime());if(e.constructor===Array){for(var n=e.length,t=new Array(n);n--;)t[n]=Z.clone(e);return t}if(e.constructor===Object){var o={};for(var a in e)e.hasOwnProperty(a)&&(o[a]=Z.clone(a))}return!e instanceof Object?e:(console.warn("Possível clonar apenas objetos simples"),e)},Z.apply=function(e,n){if(e||(e={}),n||(n={}),e.constructor!==Object)throw"Apply é executado apenas para objetos simples";if(n.constructor!==Object)throw"Apply é executado apenas para objetos simples";return Z.each(n,function(n,t){e[t]=n}),e},Z.call=function(e,n,t){return"function"==typeof e?e.apply(t,n):void 0},Z.http=function(e){void 0==e&&(e={}),void 0==e.url&&(e.url=location),void 0==e.method&&(e.method="get"),void 0==e.sync&&(e.sync=!1),void 0==e.params&&(e.params={}),void 0==e.headers&&(e.headers={}),void 0==e.success&&(e.success=function(){}),void 0==e.failure&&(e.failure=function(){}),void 0==e.callback&&(e.callback=function(){});var n=new XMLHttpRequest;Z.each(e.headers,function(e,t){t||e||n.setRequestHeader(t,e)}),n.onreadystatechange=function(){4==n.readyState&&(200==n.status?e.success(n):e.failure(n),e.callback(n))};var t=new FormData;Z.each(e.params,function(e,n){t.append(n,e)}),n.open(e.method.toUpperCase(),e.url,!e.sync),n.send(t)},String.prototype.format=function(){for(var e=this.valueOf(),n=0;n<arguments.length;n++)e=e.replace(new RegExp("[{]["+n+"][}]","g"),arguments[n]);return e};